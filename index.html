<!DOCTYPE html>
<html>
  <head>
    <title>Mumbai COVID-19 Vaccination Centers List</title>
    <link rel="shortcut icon" href="favicon.png" type="image/png" />
    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
      crossorigin="anonymous"
    ></script>

    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Data Tables -->

    <script
      type="text/javascript"
      charset="utf8"
      src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.js"
    ></script>

    <!-- Data Tables Fixed Header -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/fixedheader/3.1.8/css/fixedHeader.dataTables.min.css"
    />
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/fixedheader/3.1.8/js/dataTables.fixedHeader.min.js"
    ></script>

    <!-- Bootstrap 5 Data Tables -->
    <link
      rel="stylesheet"
      type="text/css"
      href=" https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap5.min.css"
    />
    <script
      type="text/javascript"
      charset="utf8"
      src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap5.min.js"
    ></script>

    <!-- Custom CSS -->
    <link href="./styles/stylesheet.css" rel="stylesheet" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-JXEGX6C8LX"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-JXEGX6C8LX");
    </script>
  </head>
  <body>
    <div class="container-fluid py-5">
      <div class="hero-image pb-3">
        <h3 class="text-center">
          <img src="./assets/mumbaicvc.svg" width="75" height="75" />
          Mumbai Functional COVID Vaccine Centers on
          <b id="todays-date" class="custom-date"></b>
        </h3>
        <h5 class="text-center">
          All Govt. & MCGM CVCs will be functional post
          <span class="badge bg-secondary">12 PM</span>
        </h5>
      </div>
      <!-- Search -->
      <div class="container-fluid container-lg py-3 search-class">
        <div class="row">
          <div class="col-sm-12">
            <div id="search-area"></div>
          </div>
        </div>
      </div>
      <!-- <input type="text" id="searchInput" placeholder="Center Name Search..."/> -->
      <!-- Search -->
      <div class="container-fluid container-lg table-responsive">
        <table
          id="data-table"
          class="table custom-table table-hover mx-auto w-100"
        >
          <thead class="table-header">
            <tr>
              <th>#</th>
              <th>Ward</th>
              <th class="align-middle text-center">Location</th>
              <th class="text-center">Name of Vaccination Centre</th>
              <th class="align-middle">Facility Category</th>
              <th class="align-middle">Functional Today ?</th>
              <th class="align-middle text-center">Covaxin / Covishield</th>
              <th class="align-middle text-center">Remarks</th>
            </tr>
            <!-- <tbody id="data-sheet"></tbody> -->
          </thead>
          <tfoot class="table-footer">
            <tr>
              <td colspan="4" class="text-muted text-center">
                <span id="last-updated-date"></span>
              </td>
              <td colspan="4">
                <nav class="nav nav-justified" id="source-details">
                  <!-- <a
                    class="nav-link"
                    href="https://twitter.com/mybmc/status/1387483252072407044"
                    >Source</a
                  >
                   <a
                    class="nav-link"
                    href="https://twitter.com/mybmc/status/1387267369467191296"
                    >Update 1</a
                  >
                  <a
                    class="nav-link"
                    href="https://twitter.com/mybmc/status/1387286800637386754"
                    >Update 2</a
                  > -->
                </nav>
                <!-- <a
                  class="source-link"
                  target="_blank"
                  href="https://twitter.com/mybmc/status/1386751788523556865"
                >
                  Source</a
                >
                -
                <a class="source-link" target="_blank" href="">Update 1</a>
                |
                <a class="source-link" target="_blank" href="">Update 2</a> -->
              </td>
            </tr>
            <tr>
              <td colspan="8" class="text-center py-3">
                <a
                  class="source-link"
                  target="_blank"
                  href="https://github.com/devangnagda"
                  >Created by Devang Nagda</a
                >
                |
                <a
                  class="source-link"
                  target="_blank"
                  href="https://twitter.com/devang_nagda"
                  >Contact Me</a
                >
              </td>
            </tr>
          </tfoot>
        </table>
      </div>
    </div>
    <script type="text/javascript" src="main.js"></script>
    <div class="results"></div>
    <!-- <script>
      const elFormattedDate = document.getElementById("formatted-date");

      $.getJSON(
        "https://spreadsheets.google.com/feeds/list/1O3v5jAmt_8JUyyK2NT_h33bFraTcYPHjmtD5Lkuk6VE/od6/public/values?alt=json",

        function (data) {
          var formattedDate = new Date(data.feed.updated.$t).toLocaleString(
            "en-IN"
          );
          elFormattedDate.innerHTML = formattedDate;
        }
      );
    </script> -->

    <script>
      // ID of the Google Spreadsheet
      var spreadsheetID = "1O3v5jAmt_8JUyyK2NT_h33bFraTcYPHjmtD5Lkuk6VE";

      // Make sure it is public or set to Anyone with link can view
      var url =
        "https://spreadsheets.google.com/feeds/list/" +
        spreadsheetID +
        "/2/public/values?alt=json";

      $.getJSON(url, function (data) {
        var entry = data.feed.entry;

        $(entry).each(function () {
          var todays_date = document.getElementById("todays-date");
          todays_date.innerHTML = this.gsx$todaysdate.$t;

          var last_updated_date = document.getElementById("last-updated-date");
          last_updated_date.innerHTML =
            "Last Updated: " + this.gsx$lastupdated.$t;

          var source_details = document.getElementById("source-details");
          
           
          if (this.gsx$source.$t !== "") {
            source_details.innerHTML = '<a class="nav-link" href="' + this.gsx$source.$t + '" target="_blank">Source</a>';
          }
          if (this.gsx$update1.$t !== "") {
            source_details.innerHTML = '<a class="nav-link" href="' + this.gsx$update1.$t + '" target="_blank">Update 1</a>';
          }
          if (this.gsx$update2.$t !== "") {
            source_details.innerHTML = '<a class="nav-link" href="' + this.gsx$update2.$t + '" target="_blank">Update 2</a>';
          }
          if (this.gsx$update3.$t !== "") {
            source_details.innerHTML = '<a class="nav-link" href="' + this.gsx$update3.$t + '" target="_blank">Update 3</a>';
          }
          

        });
      });
    </script>
  </body>
</html>
